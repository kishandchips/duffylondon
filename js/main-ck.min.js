(function(e){e('nav a[href="#footer"]').click(function(t){t.preventDefault();$height=e(document).height();$footerpos=e("#footer").scrollTop();e("html,body").animate({scrollTop:$height},1500);e(window).scrollTop()+e(window).height()==e(document).height()});window.main={vars:{},init:function(){var t=main.vars.header=e("#header"),n=main.vars.footer=e("#footer"),r=main.vars.sidebar=e("#sidebar"),i=main.vars.templates={},s=main.vars.templates.sidebar=e("#template-sidebar"),o=main.vars.header.navigation=e(".main-navigation",t),u=main.vars.footer.navigation=e(".main-navigation",n);e(".share-popup-btn").on("click",function(){var t=e(this).attr("href"),n=640,r=305,i=(e(window).width()-n)/2,s=(e(window).height()-r)/2;window.open(t,"sharer","toolbar=0,status=0,width="+n+",height="+r+",left="+i+", top="+s);return!1});e(".print-btn").on("click",function(e){e.preventDefault();window.print()});e(".mobile-navigation-btn").on("click",function(){e(this).parent().find(".main-navigation").slideToggle()});r.length&&e(".mobile-sidebar-btn",r).on("click",function(){if(s.hasClass("open")){s.removeClass("open-complete");setTimeout(function(){s.removeClass("open")},500)}else{s.addClass("open");setTimeout(function(){s.addClass("open-complete")},500)}});this.lightbox.init();this.ajaxPage.init();this.scroller.init();this.testimonials.init();this.product.init();this.checkout.init();this.calculator.init();this.accordion.init();this.datepicker.init();e(window).on("resize",this.resize).trigger("resize")},loaded:function(){e("body").addClass("loaded");this.equalHeight()},lightbox:{init:function(){var t=main.lightbox.container=e("#lightbox"),n=main.lightbox.overlay=e(".overlay",t),r=main.lightbox.content=e(".content",t),i=main.lightbox.loader=e(".loader",t);e(".lightbox-btn").on("click",main.lightbox.open);n.on("click",main.lightbox.close);e(document).on("click","#lightbox .close-btn",main.lightbox.close)},open:function(t){t.preventDefault();main.lightbox.load(e(this).attr("href"))},load:function(t){var n=main.lightbox.container,r=main.lightbox.overlay,i=main.lightbox.content,s=main.lightbox.loader,o=e(document).height(),u=e(window).height(),a=e(window).scrollTop(),f=main.addToUrl(t,"ajax"),f=main.addToUrl(f,"lightbox");n.height(o);n.show();s.fadeIn();i.hide();r.fadeIn("slow",function(){e.get(f,function(t){i.html(t);s.fadeOut(function(){if(e.fn.imagesLoaded)i.imagesLoaded(function(){var e=a+(u-i.height())/2;e+i.height()>o-60&&(e=o-i.height()-60);i.animate({top:e},function(){i.fadeIn()})});else{var t=a+(u-i.height())/2;t+i.height()>o-60&&(t=o-i.height()-60);n.animate({top:t},function(){i.fadeIn()})}})})})},close:function(){var e=main.lightbox.container,t=main.lightbox.overlay,n=main.lightbox.content;n.fadeOut(function(){t.fadeOut(function(){e.hide()});n.html()})}},scroller:{init:function(){e.fn.scroller&&e(".scroller").each(function(){var t=e(this);t.scroller(t.data("scroller-options"))})}},ajaxPage:{init:function(){var t=main.ajaxPage.container=e("#ajax-page"),n=main.ajaxPage.pageUrl=window.location.href;e(".ajax-btn").on("click",function(t){main.ajaxPage.load(e(this).attr("href"));return!1});e(document).on("click","#ajax-page .close-btn",function(){main.ajaxPage.close()})},load:function(t){var n=main.ajaxPage.container,r=main.addToUrl(t,"ajax");if(e(".content",n).length==0){n.show();s=e('<div class="loader"></div>');s.hide();n.html(s);n.animate({height:s.actual("outerHeight")},function(){s.fadeIn();e.get(r,function(t){var r=e('<div class="content"></div>');r.hide();n.append(r);r.html(t);s.fadeOut(function(){e.fn.imagesLoaded?r.imagesLoaded(function(){n.animate({height:r.height()},function(){n.css({height:"auto"});r.fadeIn();n.slideDown("slow")})}):n.animate({height:r.actual("height")},function(){n.css({height:"auto"});r.fadeIn()})})})})}else{var i=e(".content",n),s=e('<div class="loader"></div>').hide();n.prepend(s);i.fadeTo(300,0,function(){s.fadeIn();e.get(r,function(e){i.html(e);s.fadeOut(function(){n.animate({height:i.actual("height")},function(){i.fadeTo(300,1);n.css({height:"auto"})})})})})}},close:function(){var e=main.ajaxPage.container;e.slideUp(function(){e.html("")})}},addToUrl:function(e,t){var n=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),r=/\?.+$/;n.test(e)?e=e.replace(n,"$1"+t+"=true"):r.test(e)?e=e+"&"+t+"=true":e=e+"?"+t+"=true";return e},equalHeight:function(){if(e(".equal-height").length!==0){var t=0,n=0,r=new Array,s=0;e(".equal-height").each(function(){var o=e(this);s=o.position().top;if(n!=s){for(i=0;i<r.length;i++)r[i].height(t);r.length=0;n=s;t=o.height();r.push(o)}else{r.push(o);t=t<o.height()?o.height():t}for(i=0;i<r.length;i++)r[i].height(t)})}},resize:function(){var t=e(window).width(),n=main.vars.header.navigation,r=main.vars.footer.navigation,i=main.vars.templates.sidebar;t<=1300&&n.is(":visible")?n.hide():t>1300&&!n.is(":visible")&&n.show();t<=800&&r.is(":visible")?r.hide():t>800&&!r.is(":visible")&&r.show();i.length&&t>1100&&i.hasClass("open")&&i.removeClass("open open-complete")},scrollTo:function(t){t.length&&e("html, body").animate({scrollTop:t.offset().top})},tabs:{init:function(){var t=main.tabs.container=e(".tabs"),n=main.tabs.content=e(".tab-content",t),r=main.tabs.navigationItems=e(".tab-navigation li",t);e("a",r).on("click",function(){main.tabs.goto(e(this).data("id"))})},"goto":function(t){var n=main.tabs.navigationItems,r=main.tabs.content;n.removeClass("current");e("a[data-id="+t+"]").parent().addClass("current");e(".tab",r).hide();e(".tab[data-id="+t+"]",r).fadeIn()}},testimonials:{init:function(){var t=main.testimonials.container=e(".testimonials");if(t.length){var n=e(".open-testimonials-btn",t),r=e(".more-testimonials",t),i=e(".testimonial",t),s=!1;n.on("click",function(){var n=e(this),r=n.text();replaceText=n.data("replace-text");if(s){main.scrollTo(t);setTimeout(function(){t.toggleClass("open")},200)}else t.toggleClass("open");n.text(replaceText);n.data("replace-text",r);n.toggleClass("is-open");s=!s})}}},product:{init:function(){var t=main.product.container=e(".product");e("body").hasClass("single-product")&&e(".change-postcode-btn",t).on("click",function(){e(".change-postcode",t).slideToggle()})}},calculator:{init:function(){var t=main.calculator.container=e(".calculator");if(t.length&&e.fn.slider){var n=e(".slider",t),r=e(".results .result",t),i=e(".products .product",t),s=0,o=n.data("max")*10;console.log(n.data("max")*10/10);n.slider({range:"min",animate:!1,max:o,slide:function(t,n){var o=Math.floor(n.value/10),u=n.value-o*10;if(o!=s){r.hide();r.filter("[data-index="+o+"]").show();s=o}e(".image .mask",i).height((10-u)*5+"%")}})}}},checkout:{init:function(){var t=main.checkout.container=e("form.checkout");if(e("body").hasClass("woocommerce-checkout")){e(".clear-return-date-btn").on("click",function(){var t=e("#return-date");main.datepicker.clear(t.find(".datepicker"));t.find(".input-radio").attr("checked",!1)});e(".accordion-btn").on("click",function(){var t=e(this).data("id");e("body").trigger("update_checkout");e(".checkout-progress li").removeClass("current").filter("[data-id="+t+"]").addClass("current")})}}},accordion:{init:function(){var t=main.accordion.container=e(".accordion");if(t.length){var n=e("li",t);e(document).on("click",".accordion-btn",function(){var t=e(this).data("id"),r=n.filter("[data-id="+t+"]");e(".accordion-content",n).slideUp(function(){n.not(r).removeClass("current")});e(".accordion-content",r).slideDown(function(){r.addClass("current")})})}}},datepicker:{init:function(){e.fn.datepicker&&e(".datepicker").each(function(){var t=e(this);if(t.is("input")){altField=t;t=t.parent();altField.addClass("datepicker-input").attr("type","hidden")}else altField=t.find(".datepicker-input");t.datepicker({altField:"#"+altField.attr("id"),altFormat:"d-mm-yy",minDate:1});main.datepicker.clear(t)})},clear:function(e){var t=e.find(".datepicker-input"),n=e.find(".ui-datepicker-current-day"),r=n.find("a");console.log(t);t.val("");n.removeClass("ui-datepicker-current-day");r.removeClass("ui-state-active ui-state-hover")}}};e(function(){main.init()});e(window).load(function(){main.loaded()})})(jQuery);