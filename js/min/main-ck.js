!function(i){window.main={vars:{},init:function(){var e=main.vars.wrap=i("#wrap"),n=main.vars.header=i("#header"),t=main.vars.footer=i("#footer"),a=main.vars.sidebar=i("#sidebar"),o=main.vars.templates={},h=main.vars.templates.sidebar=i("#template-sidebar"),r=main.vars.header.navigation=i(".main-navigation",n),s=main.vars.footer.navigation=i(".main-navigation",t);nav=main.vars.nav=i(".main-nav"),i(".product-icon svg").attr({width:"60px",height:"60px"}),i(".product-overlay .product-icon svg").attr({width:"150px",height:"150px"}),this.lightbox.init(),this.menu.init(),this.responsiveMenu.init(),i(window).on("resize",this.resize).trigger("resize")},lightbox:{init:function(){var e=main.lightbox.container=i("#lightbox"),n=main.lightbox.overlay=i(".overlay",e),t=main.lightbox.content=i(".content",e),a=main.lightbox.loader=i(".loader",e);i(".lightbox-btn").on("click",main.lightbox.open),n.on("click",main.lightbox.close),i(document).on("click","#lightbox",main.lightbox.close)},open:function(e){e.preventDefault(),main.lightbox.load(i(this).attr("href"))},load:function(e){var n=main.lightbox.container,t=main.lightbox.overlay,a=main.lightbox.content,o=main.lightbox.loader,h=i(document).height(),r=i(window).height(),s=i(window).width(),d=i(window).scrollTop(),m=main.addToUrl(e,"ajax"),m=main.addToUrl(m,"lightbox");n.height(h),a.height(r),n.show(),o.fadeIn(),a.hide(),t.fadeIn("slow",function(){null!=e.match(/\.(jpeg|jpg|gif|png)$/)?(a.html('<img class="lightbox-supermotherfucker" src="'+e+'">'),i(".lightbox-supermotherfucker").load(function(){o.fadeOut(function(){var i=d+(r-a.height())/2,e=(s-a.width())/2;i+a.height()>h&&(i=h-a.height()),a.animate({top:i,left:e},function(){a.fadeIn()})})})):i.get(m,function(e){a.html(e),o.fadeOut(function(){if(i.fn.imagesLoaded)a.imagesLoaded(function(){var i=d+(r-a.height())/2;i+a.height()>h-60&&(i=h-a.height()-60),a.animate({top:i},function(){a.fadeIn()})});else{var e=d+(r-a.height())/2;e+a.height()>h-60&&(e=h-a.height()-60),n.animate({top:e},function(){a.fadeIn()})}})})})},close:function(){var i=main.lightbox.container,e=main.lightbox.overlay,n=main.lightbox.content;n.fadeOut(function(){e.fadeOut(function(){i.hide()}),n.html()})}},ajaxPage:{init:function(){var e=main.ajaxPage.container=i("#ajax-page"),n=main.ajaxPage.pageUrl=window.location.href;i(".ajax-btn").on("click",function(e){return main.ajaxPage.load(i(this).attr("href")),!1}),i(document).on("click","#ajax-page .close-btn",function(){main.ajaxPage.close()})},load:function(e){var n=main.ajaxPage.container,t=main.addToUrl(e,"ajax");if(0==i(".content",n).length)n.show(),o=i('<div class="loader"></div>'),o.hide(),n.html(o),n.animate({height:o.actual("outerHeight")},function(){o.fadeIn(),i.get(t,function(e){var t=i('<div class="content"></div>');t.hide(),n.append(t),t.html(e),o.fadeOut(function(){i.fn.imagesLoaded?t.imagesLoaded(function(){n.animate({height:t.height()},function(){n.css({height:"auto"}),t.fadeIn(),n.slideDown("slow")})}):n.animate({height:t.actual("height")},function(){n.css({height:"auto"}),t.fadeIn()})})})});else{var a=i(".content",n),o=i('<div class="loader"></div>').hide();n.prepend(o),a.fadeTo(300,0,function(){o.fadeIn(),i.get(t,function(i){a.html(i),o.fadeOut(function(){n.animate({height:a.actual("height")},function(){a.fadeTo(300,1),n.css({height:"auto"})})})})})}},close:function(){var i=main.ajaxPage.container;i.slideUp(function(){i.html("")})}},addToUrl:function(i,e){var n=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),t=/\?.+$/;return i=n.test(i)?i.replace(n,"$1"+e+"=true"):t.test(i)?i+"&"+e+"=true":i+"?"+e+"=true"},scrollTo:function(e){e.length&&i("html, body").animate({scrollTop:e.offset().top})},responsiveMenu:{init:function(){i(".nav-title").on("click",function(e){i(".nav-title").hasClass("mobile")&&(e.preventDefault(),i(this).parent().siblings(".sub-menu").toggleClass("show"))})},resize:function(){header=i("#header"),footer=i("#footer");var e=i(window).width(),n=i(window).height(),t=i(window).height()-header.outerHeight();480>=e?i(".nav-title").addClass("mobile"):i(".nav-title").removeClass("mobile"),main.vars.footer.height()>n?main.vars.wrap.removeClass("fixed-footer"):main.vars.wrap.addClass("fixed-footer"),"fixed"==header.css("position")&&(i("#main").css("margin-top",header.outerHeight()),footer.css("padding-top",header.outerHeight())),"fixed"!=header.css("position")||main.menu.wrap.hasClass("fixed-footer")||footer.css("padding-top",0)}},menu:{init:function(){this.body=i("body"),this.header=i("header"),this.wrap=i("#wrap"),this.mainDiv=i("#main"),this.footer=i("#footer"),this.footerHeight=this.footer.outerHeight(),this.headerHeight=this.header.outerHeight(),this.handlers(),this.testMargin()},handlers:function(){body=i("body"),i('nav a[href="#footer"]').on("click",function(i){i.preventDefault(),bodyHeight=body.outerHeight(),!main.menu.body.hasClass("home")&&main.menu.wrap.hasClass("fixed-footer")?(main.menu.mainDiv.addClass("marginator"),bodyHeight=body.outerHeight(),main.menu.animate(bodyHeight)):main.menu.animate(bodyHeight)})},animate:function(e){"fixed"==main.menu.header.css("position")?i("html, body").animate({scrollTop:e-main.menu.footerHeight-main.menu.headerHeight},1e3):i("html, body").animate({scrollTop:e-main.menu.footerHeight},1e3)},testMargin:function(){main.menu.body.hasClass("home")&&main.menu.wrap.hasClass("fixed-footer")?main.menu.mainDiv.addClass("marginator"):main.menu.mainDiv.removeClass("marginator")},resize:function(){testMargin()}},resize:function(){main.responsiveMenu.resize(),main.menu.testMargin()}},i(function(){main.init()}),i(window).load(function(){})}(jQuery);