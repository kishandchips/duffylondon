!function($){window.main={vars:{},w:$(window),init:function(){var i=main.vars.wrap=$("#wrap"),t=main.vars.header=$("#header"),n=main.vars.footer=$("#footer"),e=main.vars.sidebar=$("#sidebar"),a=main.vars.templates={},o=main.vars.templates.sidebar=$("#template-sidebar"),h=main.vars.header.navigation=$(".main-navigation",t),r=main.vars.footer.navigation=$(".main-navigation",n);nav=main.vars.nav=$(".main-nav"),$(".product-icon svg").attr({width:"60px",height:"60px"}),$(".product-overlay .product-icon svg").attr({width:"150px",height:"150px"}),this.lightbox.init(),this.menu.init(),main.w.on("load",this.resize),main.w.on("resize",this.resize)},lightbox:{init:function(){var i=main.lightbox.container=$("#lightbox"),t=main.lightbox.overlay=$(".overlay",i),n=main.lightbox.content=$(".content",i),e=main.lightbox.loader=$(".loader",i);$(".lightbox-btn").on("click",main.lightbox.open),t.on("click",main.lightbox.close),$(document).on("click","#lightbox",main.lightbox.close)},open:function(i){i.preventDefault(),main.lightbox.load($(this).attr("href"))},load:function(i){var t=main.lightbox.container,n=main.lightbox.overlay,e=main.lightbox.content,a=main.lightbox.loader,o=$(document).height(),h=$(window).height(),r=$(window).width(),l=$(window).scrollTop(),s=main.addToUrl(i,"ajax"),s=main.addToUrl(s,"lightbox");t.height(o),e.height(h),t.show(),a.fadeIn(),e.hide(),n.fadeIn("slow",function(){null!=i.match(/\.(jpeg|jpg|gif|png)$/)?(e.html('<img class="lightbox-supermotherfucker" src="'+i+'">'),$(".lightbox-supermotherfucker").load(function(){a.fadeOut(function(){var i=l+(h-e.height())/2,t=(r-e.width())/2;i+e.height()>o&&(i=o-e.height()),e.animate({top:i,left:t},function(){e.fadeIn()})})})):$.get(s,function(i){e.html(i),a.fadeOut(function(){if($.fn.imagesLoaded)e.imagesLoaded(function(){var i=l+(h-e.height())/2;i+e.height()>o-60&&(i=o-e.height()-60),e.animate({top:i},function(){e.fadeIn()})});else{var i=l+(h-e.height())/2;i+e.height()>o-60&&(i=o-e.height()-60),t.animate({top:i},function(){e.fadeIn()})}})})})},close:function(){var i=main.lightbox.container,t=main.lightbox.overlay,n=main.lightbox.content;n.fadeOut(function(){t.fadeOut(function(){i.hide()}),n.html()})}},ajaxPage:{init:function(){var i=main.ajaxPage.container=$("#ajax-page"),t=main.ajaxPage.pageUrl=window.location.href;$(".ajax-btn").on("click",function(i){return main.ajaxPage.load($(this).attr("href")),!1}),$(document).on("click","#ajax-page .close-btn",function(){main.ajaxPage.close()})},load:function(i){var t=main.ajaxPage.container,n=main.addToUrl(i,"ajax");if(0==$(".content",t).length)t.show(),a=$('<div class="loader"></div>'),a.hide(),t.html(a),t.animate({height:a.actual("outerHeight")},function(){a.fadeIn(),$.get(n,function(i){var n=$('<div class="content"></div>');n.hide(),t.append(n),n.html(i),a.fadeOut(function(){$.fn.imagesLoaded?n.imagesLoaded(function(){t.animate({height:n.height()},function(){t.css({height:"auto"}),n.fadeIn(),t.slideDown("slow")})}):t.animate({height:n.actual("height")},function(){t.css({height:"auto"}),n.fadeIn()})})})});else{var e=$(".content",t),a=$('<div class="loader"></div>').hide();t.prepend(a),e.fadeTo(300,0,function(){a.fadeIn(),$.get(n,function(i){e.html(i),a.fadeOut(function(){t.animate({height:e.actual("height")},function(){e.fadeTo(300,1),t.css({height:"auto"})})})})})}},close:function(){var i=main.ajaxPage.container;i.slideUp(function(){i.html("")})}},addToUrl:function(i,t){var n=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),e=/\?.+$/;return i=n.test(i)?i.replace(n,"$1"+t+"=true"):e.test(i)?i+"&"+t+"=true":i+"?"+t+"=true"},scrollTo:function(i){i.length&&$("html, body").animate({scrollTop:i.offset().top})},menu:{init:function(){this.wrap=$("#wrap"),this.body=$("body"),this.header=$("#header"),this.footer=$("#footer"),this.footerHeight=this.footer.outerHeight(),this.headerHeight=this.header.outerHeight(),this.triggers()},triggers:function(){$('nav a[href="#footer"]').on("click",function(i){i.preventDefault(),bodyHeight=main.menu.body.outerHeight(),!main.menu.body.hasClass("home")&&main.menu.wrap.hasClass("fixed-footer")?(bodyHeight=main.menu.body.outerHeight(),main.menu.animate(bodyHeight)):main.menu.animate(bodyHeight)}),this.link=$(".nav-title"),this.link.on("click",function(i){var t=$(this);t.hasClass("mobile")&&(i.preventDefault(),t.parent().siblings(".sub-menu").toggleClass("show"))})},animate:function(i){"fixed"==main.menu.header.css("position")?$("html, body").animate({scrollTop:i-main.menu.footerHeight-main.menu.headerHeight},1e3):$("html, body").animate({scrollTop:i-main.menu.footerHeight},1e3)},resize:function(i,t){i>750&&t>650?$("#wrap").addClass("fixed-footer"):$("#wrap").removeClass("fixed-footer");var n=main.menu.link;480>=i?n.addClass("mobile"):n.removeClass("mobile")}},resize:function(){var i=main.w.outerWidth(),t=main.w.outerHeight();main.menu.resize(i,t)}},$(function(){main.init()})}(jQuery);