(function(e){window.main={vars:{},init:function(){var t=main.vars.wrap=e("#wrap"),n=main.vars.header=e("#header"),r=main.vars.footer=e("#footer"),i=main.vars.sidebar=e("#sidebar"),s=main.vars.templates={},o=main.vars.templates.sidebar=e("#template-sidebar"),u=main.vars.header.navigation=e(".main-navigation",n),a=main.vars.footer.navigation=e(".main-navigation",r);nav=main.vars.nav=e(".main-nav");e(".product-icon svg").attr({width:"60px",height:"60px"});e(".product-overlay .product-icon svg").attr({width:"150px",height:"150px"});this.lightbox.init();this.menu.init();this.responsiveMenu.init();e(window).on("resize",this.resize).trigger("resize")},lightbox:{init:function(){var t=main.lightbox.container=e("#lightbox"),n=main.lightbox.overlay=e(".overlay",t),r=main.lightbox.content=e(".content",t),i=main.lightbox.loader=e(".loader",t);e(".lightbox-btn").on("click",main.lightbox.open);n.on("click",main.lightbox.close);e(document).on("click","#lightbox",main.lightbox.close)},open:function(t){t.preventDefault();main.lightbox.load(e(this).attr("href"))},load:function(t){var n=main.lightbox.container,r=main.lightbox.overlay,i=main.lightbox.content,s=main.lightbox.loader,o=e(document).height(),u=e(window).height(),a=e(window).width(),f=e(window).scrollTop(),l=main.addToUrl(t,"ajax"),l=main.addToUrl(l,"lightbox");n.height(o);i.height(u);n.show();s.fadeIn();i.hide();r.fadeIn("slow",function(){if(t.match(/\.(jpeg|jpg|gif|png)$/)!=null){i.html('<img class="lightbox-supermotherfucker" src="'+t+'">');e(".lightbox-supermotherfucker").load(function(){s.fadeOut(function(){var e=f+(u-i.height())/2,t=(a-i.width())/2;e+i.height()>o&&(e=o-i.height());i.animate({top:e,left:t},function(){i.fadeIn()})})})}else e.get(l,function(t){i.html(t);s.fadeOut(function(){if(e.fn.imagesLoaded)i.imagesLoaded(function(){var e=f+(u-i.height())/2;e+i.height()>o-60&&(e=o-i.height()-60);i.animate({top:e},function(){i.fadeIn()})});else{var t=f+(u-i.height())/2;t+i.height()>o-60&&(t=o-i.height()-60);n.animate({top:t},function(){i.fadeIn()})}})})})},close:function(){var e=main.lightbox.container,t=main.lightbox.overlay,n=main.lightbox.content;n.fadeOut(function(){t.fadeOut(function(){e.hide()});n.html()})}},ajaxPage:{init:function(){var t=main.ajaxPage.container=e("#ajax-page"),n=main.ajaxPage.pageUrl=window.location.href;e(".ajax-btn").on("click",function(t){main.ajaxPage.load(e(this).attr("href"));return!1});e(document).on("click","#ajax-page .close-btn",function(){main.ajaxPage.close()})},load:function(t){var n=main.ajaxPage.container,r=main.addToUrl(t,"ajax");if(e(".content",n).length==0){n.show();s=e('<div class="loader"></div>');s.hide();n.html(s);n.animate({height:s.actual("outerHeight")},function(){s.fadeIn();e.get(r,function(t){var r=e('<div class="content"></div>');r.hide();n.append(r);r.html(t);s.fadeOut(function(){e.fn.imagesLoaded?r.imagesLoaded(function(){n.animate({height:r.height()},function(){n.css({height:"auto"});r.fadeIn();n.slideDown("slow")})}):n.animate({height:r.actual("height")},function(){n.css({height:"auto"});r.fadeIn()})})})})}else{var i=e(".content",n),s=e('<div class="loader"></div>').hide();n.prepend(s);i.fadeTo(300,0,function(){s.fadeIn();e.get(r,function(e){i.html(e);s.fadeOut(function(){n.animate({height:i.actual("height")},function(){i.fadeTo(300,1);n.css({height:"auto"})})})})})}},close:function(){var e=main.ajaxPage.container;e.slideUp(function(){e.html("")})}},addToUrl:function(e,t){var n=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),r=/\?.+$/;n.test(e)?e=e.replace(n,"$1"+t+"=true"):r.test(e)?e=e+"&"+t+"=true":e=e+"?"+t+"=true";return e},scrollTo:function(t){t.length&&e("html, body").animate({scrollTop:t.offset().top})},responsiveMenu:{init:function(){e(".nav-title").on("click",function(t){if(e(".nav-title").hasClass("mobile")){t.preventDefault();e(this).parent().siblings(".sub-menu").toggleClass("show")}})},resize:function(){var t=e(window).width(),n=e(window).height();header=e("#header");t<=480?e(".nav-title").addClass("mobile"):e(".nav-title").removeClass("mobile");if(main.vars.footer.height()>n)main.vars.wrap.removeClass("fixed-footer");else{e("#main").css("margin-top",header.outerHeight());main.vars.wrap.addClass("fixed-footer")}}},menu:{init:function(){this.body=e("body");this.header=e("header");this.wrap=e("#wrap");this.mainDiv=e("#main");this.footer=e("#footer");this.footerHeight=this.footer.outerHeight();this.headerHeight=this.header.outerHeight();this.handlers();this.testMargin()},handlers:function(){body=e("body");e('nav a[href="#footer"]').on("click",function(e){e.preventDefault();bodyHeight=body.outerHeight();if(!main.menu.body.hasClass("home")&&main.menu.wrap.hasClass("fixed-footer")){main.menu.mainDiv.addClass("marginator");bodyHeight=body.outerHeight();main.menu.animate(bodyHeight)}else main.menu.animate(bodyHeight)})},animate:function(t){main.menu.header.css("position")=="fixed"?e("body").animate({scrollTop:t-main.menu.footerHeight-main.menu.headerHeight},1e3):e("body").animate({scrollTop:t-main.menu.footerHeight},1e3)},testMargin:function(){main.menu.body.hasClass("home")&&main.menu.wrap.hasClass("fixed-footer")&&main.menu.mainDiv.addClass("marginator")},resize:function(){testMargin()}},resize:function(){main.responsiveMenu.resize();main.menu.testMargin()}};e(function(){main.init()});e(window).load(function(){})})(jQuery);