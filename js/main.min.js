(function(e){window.main={vars:{},init:function(){var t=main.vars.header=e("#header"),n=main.vars.footer=e("#footer"),r=main.vars.sidebar=e("#sidebar"),i=main.vars.templates={},s=main.vars.templates.sidebar=e("#template-sidebar"),o=main.vars.header.navigation=e(".main-navigation",t),u=main.vars.footer.navigation=e(".main-navigation",n);e('nav a[href="#footer"]').on("click",function(t){t.preventDefault();$height=e(document).height();$footer=e("#footer").outerHeight();$header=e("header").outerHeight();e("#header").css("position")=="fixed"?e("html,body").animate({scrollTop:$height-$footer+$header},1500):e("html,body").animate({scrollTop:$height-$footer},1500)});e(".product-icon svg").attr({width:"60px",height:"60px"});this.lightbox.init();this.responsiveMenu.init();e(window).on("resize",this.resize).trigger("resize")},lightbox:{init:function(){var t=main.lightbox.container=e("#lightbox"),n=main.lightbox.overlay=e(".overlay",t),r=main.lightbox.content=e(".content",t),i=main.lightbox.loader=e(".loader",t);e(".lightbox-btn").on("click",main.lightbox.open);n.on("click",main.lightbox.close);e(document).on("click","#lightbox",main.lightbox.close)},open:function(t){t.preventDefault();main.lightbox.load(e(this).attr("href"))},load:function(t){var n=main.lightbox.container,r=main.lightbox.overlay,i=main.lightbox.content,s=main.lightbox.loader,o=e(document).height(),u=e(window).height(),a=e(window).width(),f=e(window).scrollTop(),l=main.addToUrl(t,"ajax"),l=main.addToUrl(l,"lightbox");n.height(o);i.height(u);n.show();s.fadeIn();i.hide();r.fadeIn("slow",function(){if(t.match(/\.(jpeg|jpg|gif|png)$/)!=null){i.html('<img class="lightbox-supermotherfucker" src="'+t+'">');e(".lightbox-supermotherfucker").load(function(){s.fadeOut(function(){var e=f+(u-i.height())/2,t=(a-i.width())/2;e+i.height()>o&&(e=o-i.height());i.animate({top:e,left:t},function(){i.fadeIn()})})})}else e.get(l,function(t){i.html(t);s.fadeOut(function(){if(e.fn.imagesLoaded)i.imagesLoaded(function(){var e=f+(u-i.height())/2;e+i.height()>o-60&&(e=o-i.height()-60);i.animate({top:e},function(){i.fadeIn()})});else{var t=f+(u-i.height())/2;t+i.height()>o-60&&(t=o-i.height()-60);n.animate({top:t},function(){i.fadeIn()})}})})})},close:function(){var e=main.lightbox.container,t=main.lightbox.overlay,n=main.lightbox.content;n.fadeOut(function(){t.fadeOut(function(){e.hide()});n.html()})}},ajaxPage:{init:function(){var t=main.ajaxPage.container=e("#ajax-page"),n=main.ajaxPage.pageUrl=window.location.href;e(".ajax-btn").on("click",function(t){main.ajaxPage.load(e(this).attr("href"));return!1});e(document).on("click","#ajax-page .close-btn",function(){main.ajaxPage.close()})},load:function(t){var n=main.ajaxPage.container,r=main.addToUrl(t,"ajax");if(e(".content",n).length==0){n.show();s=e('<div class="loader"></div>');s.hide();n.html(s);n.animate({height:s.actual("outerHeight")},function(){s.fadeIn();e.get(r,function(t){var r=e('<div class="content"></div>');r.hide();n.append(r);r.html(t);s.fadeOut(function(){e.fn.imagesLoaded?r.imagesLoaded(function(){n.animate({height:r.height()},function(){n.css({height:"auto"});r.fadeIn();n.slideDown("slow")})}):n.animate({height:r.actual("height")},function(){n.css({height:"auto"});r.fadeIn()})})})})}else{var i=e(".content",n),s=e('<div class="loader"></div>').hide();n.prepend(s);i.fadeTo(300,0,function(){s.fadeIn();e.get(r,function(e){i.html(e);s.fadeOut(function(){n.animate({height:i.actual("height")},function(){i.fadeTo(300,1);n.css({height:"auto"})})})})})}},close:function(){var e=main.ajaxPage.container;e.slideUp(function(){e.html("")})}},addToUrl:function(e,t){var n=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),r=/\?.+$/;n.test(e)?e=e.replace(n,"$1"+t+"=true"):r.test(e)?e=e+"&"+t+"=true":e=e+"?"+t+"=true";return e},scrollTo:function(t){t.length&&e("html, body").animate({scrollTop:t.offset().top})},responsiveMenu:{init:function(){e(".nav-title").on("click",function(t){if(e(".nav-title").hasClass("mobile")){t.preventDefault();e(this).parent().siblings(".sub-menu").toggleClass("show")}})},resize:function(){var t=e(window).width();t<=480?e(".nav-title").addClass("mobile"):e(".nav-title").removeClass("mobile")}},resize:function(){main.responsiveMenu.resize()}};e(function(){main.init()});e(window).load(function(){function i(e,t){e.data("originalHeight",e.data("originalHeight")==undefined?e.height():e.data("originalHeight"));e.height(t)}function s(e){return e.data("originalHeight")==undefined?e.height():e.data("originalHeight")}function o(){e(".equal > li").each(function(){var o=e(this),u=o.position().top;if(n!=u){for(currentDiv=0;currentDiv<r.length;currentDiv++)i(r[currentDiv],t);r.length=0;n=u;t=s(o);r.push(o)}else{r.push(o);t=t<s(o)?s(o):t}for(currentDiv=0;currentDiv<r.length;currentDiv++)i(r[currentDiv],t)})}var t=0,n=0,r=new Array;o()})})(jQuery);